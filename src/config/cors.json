        {isModalOpen && (
          <div className="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
            <div className="bg-gray-800 p-6 rounded-xl shadow-xl w-full max-w-md relative border border-gray-700">
              <button
                onClick={closeModal}
                className="absolute top-3 right-3 text-gray-400 hover:text-white cursor-pointer transition-colors p-1 rounded-full hover:bg-gray-700"
                disabled={saving}
              >
                <IoClose size={24} />
              </button>

              <h2 className="text-xl font-semibold mb-6 text-white">
                {editingCompany ? "Edit Company" : "Add Company"}
              </h2>

              <form
                onSubmit={editingCompany ? handleUpdateCompany : handleAddCompany}
                className="space-y-4"
              >
                {/* Company Name */}
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    Company Name *
                  </label>
                  <input
                    name="companyName"
                    value={formData.companyName}
                    onChange={handleChange}
                    placeholder="Enter company name"
                    required
                    className="w-full border border-gray-600 rounded-lg px-3 py-2 bg-gray-900 text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-colors"
                    disabled={saving}
                  />
                </div>

                {/* Company Description */}
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    Description
                  </label>
                  <textarea
                    name="companyDescription"
                    value={formData.companyDescription}
                    onChange={handleChange}
                    placeholder="Company description (optional)"
                    rows={3}
                    className="w-full border border-gray-600 rounded-lg px-3 py-2 bg-gray-900 text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-colors resize-none"
                    disabled={saving}
                  />
                </div>

                {/* Company Owner */}
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    Owner
                  </label>
                  <input
                    name="companyOwner"
                    value={formData.companyOwner}
                    onChange={handleChange}
                    placeholder="Owner name (optional)"
                    className="w-full border border-gray-600 rounded-lg px-3 py-2 bg-gray-900 text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-colors"
                    disabled={saving}
                  />
                </div>

                {/* Logo Upload */}
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-2">
                    Company Logo
                  </label>
                  <input
                    type="file"
                    ref={fileInputRef}
                    onChange={handleFileSelect}
                    accept="image/*"
                    className="hidden"
                    disabled={saving}
                  />
                  <div className="flex items-center gap-4">
                    {formData.logoPreview ? (
                      <div className="relative">
                        <img
                          src={formData.logoPreview}
                          alt="Logo preview"
                          className="w-16 h-16 rounded-full object-cover border-2 border-gray-600"
                        />
                        <button
                          type="button"
                          onClick={removeLogo}
                          className="absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600 transition-colors"
                          disabled={saving}
                        >
                          Ã—
                        </button>
                      </div>
                    ) : (
                      <div className="w-16 h-16 rounded-full bg-gray-700 border-2 border-dashed border-gray-600 flex items-center justify-center">
                        <span className="text-gray-400 text-2xl">?</span>
                      </div>
                    )}
                    <button
                      type="button"
                      onClick={triggerFileInput}
                      className="flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-sm"
                      disabled={saving}
                    >
                      <FaUpload size={14} />
                      {formData.logoPreview ? "Change Logo" : "Upload Logo"}
                    </button>
                  </div>
                  <p className="text-xs text-gray-400 mt-2">
                    Supported formats: JPG, PNG, GIF. Max size: 5MB
                  </p>
                </div>

                {/* Form Actions */}
                <div className="flex justify-end gap-3 pt-4 mt-6 border-t border-gray-700">
                  <button
                    type="button"
                    onClick={closeModal}
                    className="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors font-medium disabled:opacity-50"
                    disabled={saving}
                  >
                    Cancel
                  </button>
                  <button
                    type="submit"
                    className="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50 flex items-center gap-2"
                    disabled={saving}
                  >
                    {editingCompany ? "Update Company" : "Add Company"}
                  </button>
                </div>
              </form>
            </div>
          </div>
        )}
      </main>
    </div>
  );
}
